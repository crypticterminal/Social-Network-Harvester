{% extends "snh/snh_base.html" %}
{% block scripts %}
<script type="text/javascript" charset="utf-8">
	$(document).ready(
        function() {
		            var oTable = $('#post_table').dataTable({
                                    "iDisplayLength": 100,
                                    "sPaginationType": "full_numbers",
                                    "sDom": 'T<"clear">lfrtip',
                                    "oTableTools": {
                                                "sSwfPath" : "/static/swf/copy_cvs_xls_pdf.swf"
                                    },
                                });
	                } 
    );
</script>
{% endblock %}

{% block content %}
<h1>Facebook: {{ fbuser.name }} </h1>
<table id="user_table" class="pretty">
    <thead>
    <tr>
        <th>ID</th>
        <th>name</th>
        <th>username</th>
        <th>bio</th>
        <th>category</th>
        <th>likes</th>
        <th>about</th>
        <th>phone</th>
        <th>checkins</th>
        <th>picture</th>
        <th>talking_about_count</th>
        <th>error_triggered</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>{{ fbuser.fid|default_if_none:"0" }}</td>
        <td>{{ fbuser.name|default_if_none:"" }}</td>
        <td>{{ fbuser.username|default_if_none:"" }}</td>
        <td>{{ fbuser.bio|default_if_none:""}}</td>
        <td>{{ fbuser.category|default_if_none:"" }}</td>
        <td>{{ fbuser.likes|default_if_none:"0" }}</td>
        <td>{{ fbuser.about|default_if_none:"" }}</td>
        <td>{{ fbuser.phone|default_if_none:"" }}</td>
        <td>{{ fbuser.checkins|default_if_none:"0" }}</td>
        <td>{{ fbuser.picture|default_if_none:"" }}</td>
        <td>{{ fbuser.talking_about_count|default_if_none:"0" }}</td>
        <td>{{ fbuser.error_triggered }}</td>
    </tr>
    </tbody>
</table>

<h1>Facebook wall for: {{ fbuser.name }} </h1>
<table id="post_table" class="pretty">
    <thead>
        <tr>
            <th>Created time</th>
            <th>from</th>
            <th>story / message</th>
            <th>story_tags / message_tags</th>
            <th>link</th>
            <th>name</th>
            <th>caption</th>
            <th>description</th>
            <th>type</th>
            <th>likes_count</th>
            <th>comments_count</th>
            <th>created_time</th>
            <th>updated_time</th>
        </tr>
    </thead>
    <tbody>
        {% for post in posts %}
        <tr>
            <td>{{ post.created_time.ctime }}</td>
            <td>{{ post.ffrom|default_if_none:"" }}</td>
            <td>{{ post.story|default_if_none:""|urlize }}{{ post.message|default_if_none:""|urlize }} </td>
            <td>{{ post.story_tags|default_if_none:"" }}{{ post.message_tags|default_if_none:"" }} </td>
            <td>{{ post.link|urlize }}</td>
            <td>{{ post.name|default_if_none:""|urlize }}</td>
            <td>{{ post.caption|default_if_none:""|urlize }}</td>
            <td>{{ post.description|default_if_none:""|urlize }}</td>
            <td>{{ post.ftype|default_if_none:"" }}</td>
            <td>{{ post.likes_count|default_if_none:"0" }}</td>
            <td>{{ post.comments_count|default_if_none:"0" }}</td>
            <td>{{ post.created_time.ctime }}</td>
            <td>{{ post.updated_time.ctime }}</td>
        </tr>
        {% endfor %}
    <tbody>
</table>
{% endblock %}
